<div *ngIf="userService.user.role === 'user' else adminNav ">
    <div class="header_container">
        <h1 class="mat-h1 header">My Cart</h1>
        <button color="primary" (click)="closeNav()" class="header_button" mat-icon-button>
            <mat-icon>disabled_by_default</mat-icon>
        </button>
    </div>
    <table mat-table [dataSource]="userService.cartTableDataSource" class="mat-elevation-z8">
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef> Name </th>
            <td mat-cell *matCellDef="let product"> {{product.productId.name}} </td>
        </ng-container>
        <ng-container matColumnDef="quantity">
            <th mat-header-cell *matHeaderCellDef> Quantity </th>
            <td mat-cell *matCellDef="let product"> {{product.quantity}} </td>
        </ng-container>
        <ng-container matColumnDef="price">
            <th mat-header-cell *matHeaderCellDef> Price </th>
            <td mat-cell *matCellDef="let product"> {{product.productId.price}} </td>
        </ng-container>
        <ng-container matColumnDef="image">
            <th mat-header-cell *matHeaderCellDef> Image </th>
            <td mat-cell *matCellDef="let product"><img class="table_img" [src]="product.productId.imgUrl"
                    alt="image of product">
            </td>
        </ng-container>
        <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef> Action </th>
            <td mat-cell *matCellDef="let product">
                <button mat-icon-button (click)="removeFromCart(product.productId._id)">
                    <mat-icon color="primary">clear</mat-icon>
                </button></td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
    <mat-paginator [pageSizeOptions]="[5, 7]" showFirstLastButtons></mat-paginator>
    <div class="cart_actions_container">
        <div class="cart_actions">
            <p class="mat-body-1 price" *ngIf="userService.cart">Total Price : {{userService.cart.price}} $</p>
            <div>
                <button mat-raised-button color="primary">Order</button>
                <button mat-raised-button>Clear Cart</button>
            </div>
        </div>
    </div>
</div>
<ng-template #adminNav>
    <div class="header_container">
        <h1 class="mat-h1 header">Hey Admin</h1>
        <button color="primary" (click)="closeNav()" class="header_button" mat-icon-button>
            <mat-icon>disabled_by_default</mat-icon>
        </button>
    </div>
    <mat-divider></mat-divider>
    <form [formGroup]="productForm">
        <mat-form-field appearance="fill">
            <mat-label>Name</mat-label>
            <input formControlName='name' matInput type="text">
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Category</mat-label>
            <mat-select formControlName='category'>
                <mat-option  *ngFor="let category of categories" [value]="category.value">
                    {{category.viewValue}}
                </mat-option>
            </mat-select>
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Price</mat-label>
            <input formControlName='price' matInput type="number">
        </mat-form-field>
        <mat-form-field appearance="fill">
            <mat-label>Img Url</mat-label>
            <input formControlName='imgUrl' matInput type="text">
        </mat-form-field>
        <button (click)="saveProduct()" mat-raised-button>Save</button>
    </form>
</ng-template>
